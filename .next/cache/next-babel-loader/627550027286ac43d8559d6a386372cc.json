{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\NagatsuYuhei\\\\next_app\\\\components\\\\Section.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Container, Row, Col, Form, Modal, Button } from 'react-bootstrap';\nimport firebase from \"firebase\";\nimport \"firebase/database\";\n\nclass Section extends Component {\n  constructor(props) {\n    super(props);\n    let today = new Date();\n    let year = today.getFullYear();\n    let day = today.getMonth() + 1;\n    this.state = {\n      year: year,\n      month: day,\n      show: false,\n      modalMsg: \"\"\n    };\n    this.getFireData();\n    this.handleClose = this.handleClose.bind(this);\n    this.handleShow = this.handleShow.bind(this);\n    this.onChangeYear = this.onChangeYear.bind(this);\n    this.onChangeMonth = this.onChangeMonth.bind(this);\n    this.onClickDivision = this.onClickDivision.bind(this);\n    this.getFireData = this.getFireData.bind(this);\n    this.targetSave = this.targetSave.bind(this);\n  } // モーダル表示\n\n\n  handleClose() {\n    this.setState({\n      show: false\n    });\n  } // モーダル表示\n\n\n  handleShow() {\n    this.setState({\n      show: true\n    });\n  } // 年変更時の処理 \n\n\n  onChangeYear(e) {\n    // firebaseにアクセス \n    let db = firebase.database();\n    let ref = db.ref('t_section_date/' + e.target.value + '/' + this.state.month + '/');\n    let self = this; // 抽出\n\n    ref.on('value', snapshot => {\n      // 対象年月の情報で処理分岐\n      if (snapshot.val() === null) {\n        self.setState({\n          year: e.target.value,\n          data: []\n        });\n      } else {\n        self.setState({\n          year: e.target.value,\n          data: snapshot.val()\n        });\n      }\n    });\n  } // 月変更時の処理 \n\n\n  onChangeMonth(e) {\n    // firebaseにアクセス \n    let db = firebase.database();\n    let ref = db.ref('t_section_date/' + this.state.year + '/' + e.target.value + '/');\n    let self = this; // 抽出\n\n    ref.on('value', snapshot => {\n      // 対象年月の情報で処理分岐\n      if (snapshot.val() === null) {\n        self.setState({\n          month: e.target.value,\n          data: []\n        });\n      } else {\n        self.setState({\n          month: e.target.value,\n          data: snapshot.val()\n        });\n      }\n    });\n  } // 課名リンク押下時の処理\n\n\n  onClickDivision(e) {\n    // 開始日取得\n    let id = \"date\" + e.target.text;\n    let inputCheck = document.getElementById(id).value; // 情報の有無で分岐\n\n    if (inputCheck === \"\") {\n      // メッセージ表示\n      this.setState({\n        modalMsg: \"開始日を入力してください。\"\n      });\n      this.handleShow();\n      e.preventDefault();\n    } else {\n      // storeにディスパッチ\n      return this.props.dispatch({\n        type: 'DIVISION',\n        division: e.target.text,\n        division_day: inputCheck\n      });\n    }\n  } // firebaseから情報を取得\n\n\n  getFireData() {\n    // firebaseにアクセス \n    let db = firebase.database();\n    let ref = db.ref('t_section_date/' + this.state.year + '/' + this.state.month + '/');\n    let self = this; // 抽出\n\n    ref.on('value', snapshot => {\n      if (snapshot.val() !== null) {\n        self.setState({\n          data: snapshot.val()\n        });\n      }\n    });\n  } // 入力情報を登録\n\n\n  targetSave() {\n    let year = this.state.year;\n    let month = this.state.month; // firebaseにアクセス \n\n    let db = firebase.database();\n    let ref = db.ref('t_section_date/' + year + '/' + month);\n\n    let byId = function (id) {\n      return document.getElementById(id).value;\n    };\n\n    ref.set({\n      DA1_date: byId(\"dateDA1\"),\n      // DA1\n      DA2_date: byId(\"dateDA2\"),\n      // DA2\n      DB1_date: byId(\"dateDB1\"),\n      // DB1\n      DB2_date: byId(\"dateDB2\"),\n      // DB2\n      DB3_date: byId(\"dateDB3\") // DB3\n\n    });\n  }\n\n  render() {\n    // 年に表示する情報を取得\n    let today = new Date();\n    let yearAgo = today.getFullYear() - 1;\n    let yearThis = today.getFullYear();\n    let yearLater = today.getFullYear() + 1; // 開始日の情報を表示\n\n    let {\n      DA1_date,\n      DA2_date,\n      DB1_date,\n      DB2_date,\n      DB3_date\n    } = this.state.data !== undefined ? this.state.data : \"\";\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"children-box\",\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"monthly-input\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: \"\\u5BFE\\u8C61\\u5E74\\u6708\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              defaultValue: yearThis,\n              onChange: this.onChangeYear,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: yearAgo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: yearThis\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: yearLater\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: \"\\u5E74\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              defaultValue: this.state.month,\n              onChange: this.onChangeMonth,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2\",\n                children: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3\",\n                children: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4\",\n                children: \"4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"5\",\n                children: \"5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"6\",\n                children: \"6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"7\",\n                children: \"7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"8\",\n                children: \"8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"9\",\n                children: \"9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"10\",\n                children: \"10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"11\",\n                children: \"11\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"12\",\n                children: \"12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: \"\\u6708\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Row, {\n            className: \"monthly-input\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 1,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/sectionade\",\n                onClick: this.onClickDivision,\n                children: \"DA1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 1,\n              children: \"\\u958B\\u59CB\\u65E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 2,\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"sm\",\n                id: \"dateDA1\",\n                type: \"date\",\n                defaultValue: DA1_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            className: \"monthly-input\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 1,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/sectionade\",\n                onClick: this.onClickDivision,\n                children: \"DA2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 1,\n              children: \"\\u958B\\u59CB\\u65E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 2,\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"sm\",\n                id: \"dateDA2\",\n                type: \"date\",\n                defaultValue: DA2_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            className: \"monthly-input\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 1,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/sectionade\",\n                onClick: this.onClickDivision,\n                children: \"DB1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 1,\n              children: \"\\u958B\\u59CB\\u65E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 2,\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"sm\",\n                id: \"dateDB1\",\n                type: \"date\",\n                defaultValue: DB1_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            className: \"monthly-input\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 1,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/sectionade\",\n                onClick: this.onClickDivision,\n                children: \"DB2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 1,\n              children: \"\\u958B\\u59CB\\u65E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 2,\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"sm\",\n                id: \"dateDB2\",\n                type: \"date\",\n                defaultValue: DB2_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            className: \"monthly-input\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: 1,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/sectionade\",\n                onClick: this.onClickDivision,\n                children: \"DB3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 1,\n              children: \"\\u958B\\u59CB\\u65E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              sm: 2,\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                size: \"sm\",\n                id: \"dateDB3\",\n                type: \"date\",\n                defaultValue: DB3_date\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"javascript:void(0)\",\n        class: \"btn btn--orange btn--circle btn--circle-a btn--shadow\",\n        onClick: this.targetSave,\n        children: \"\\u4FDD\\u5B58\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        centered: true,\n        show: this.state.show,\n        onHide: this.handleClose,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: this.state.modalMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: this.handleClose,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nSection = connect(state => state)(Section);\nexport default Section;","map":{"version":3,"sources":["C:/Users/NagatsuYuhei/next_app/components/Section.js"],"names":["React","Component","connect","Container","Row","Col","Form","Modal","Button","firebase","Section","constructor","props","today","Date","year","getFullYear","day","getMonth","state","month","show","modalMsg","getFireData","handleClose","bind","handleShow","onChangeYear","onChangeMonth","onClickDivision","targetSave","setState","e","db","database","ref","target","value","self","on","snapshot","val","data","id","text","inputCheck","document","getElementById","preventDefault","dispatch","type","division","division_day","byId","set","DA1_date","DA2_date","DB1_date","DB2_date","DB3_date","render","yearAgo","yearThis","yearLater","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Container, Row, Col, Form, Modal, Button } from 'react-bootstrap';\r\nimport firebase from \"firebase\";\r\nimport \"firebase/database\";\r\n\r\nclass Section extends Component {\r\n\r\n    constructor (props) {\r\n\r\n        super(props);\r\n\r\n        let today = new Date();\r\n        let year = today.getFullYear();\r\n        let day = today.getMonth() + 1;\r\n\r\n        this.state = {\r\n            year: year,\r\n            month: day,\r\n            show: false,\r\n            modalMsg: \"\"\r\n        };\r\n\r\n        this.getFireData();\r\n\r\n        this.handleClose     = this.handleClose.bind(this);\r\n        this.handleShow      = this.handleShow.bind(this);\r\n        this.onChangeYear    = this.onChangeYear.bind(this);\r\n        this.onChangeMonth   = this.onChangeMonth.bind(this);\r\n        this.onClickDivision = this.onClickDivision.bind(this);\r\n        this.getFireData     = this.getFireData.bind(this);\r\n        this.targetSave      = this.targetSave.bind(this);\r\n\r\n    }\r\n\r\n    // モーダル表示\r\n\r\n    handleClose() {\r\n        this.setState({\r\n            show:false\r\n        });\r\n    }\r\n\r\n    // モーダル表示\r\n    handleShow() {\r\n        this.setState({\r\n            show:true\r\n        });\r\n    }\r\n\r\n    // 年変更時の処理 \r\n    onChangeYear (e) {\r\n\r\n        // firebaseにアクセス \r\n        let db = firebase.database();\r\n        let ref = db.ref('t_section_date/' + e.target.value + '/' + this.state.month + '/'  );\r\n        let self = this;\r\n        // 抽出\r\n        ref.on('value', (snapshot) => {\r\n            // 対象年月の情報で処理分岐\r\n            if (snapshot.val() === null){\r\n\r\n                self.setState({ \r\n                    year: e.target.value, \r\n                    data: [] \r\n                });\r\n            \r\n            } else {\r\n\r\n                self.setState({ \r\n                    year: e.target.value,\r\n                    data: snapshot.val() \r\n                });\r\n            \r\n            }\r\n        });\r\n    }\r\n\r\n    // 月変更時の処理 \r\n    onChangeMonth (e) {\r\n\r\n        // firebaseにアクセス \r\n        let db = firebase.database();\r\n        let ref = db.ref('t_section_date/' + this.state.year +  '/' + e.target.value + '/'  );\r\n        let self = this;\r\n        // 抽出\r\n        ref.on('value', (snapshot) => {\r\n            // 対象年月の情報で処理分岐\r\n            if (snapshot.val() === null){\r\n\r\n                self.setState({ \r\n                    month: e.target.value,\r\n                    data: [] \r\n                });\r\n            \r\n            } else {\r\n            \r\n                self.setState({ \r\n                    month: e.target.value,\r\n                    data: snapshot.val() \r\n                });\r\n            \r\n            }\r\n        });\r\n    }\r\n\r\n    // 課名リンク押下時の処理\r\n    onClickDivision (e) {\r\n        // 開始日取得\r\n        let id = \"date\" + e.target.text;\r\n        let inputCheck = document.getElementById( id ).value;\r\n        // 情報の有無で分岐\r\n        if ( inputCheck ===\"\" ){\r\n            // メッセージ表示\r\n            this.setState({　modalMsg: \"開始日を入力してください。\"　});\r\n            this.handleShow();\r\n\r\n            e.preventDefault();\r\n\r\n        } else {\r\n            // storeにディスパッチ\r\n            return this.props.dispatch({ \r\n                        type: 'DIVISION'\r\n                      , division: e.target.text\r\n                      , division_day:inputCheck\r\n                    });\r\n\r\n        }\r\n    }\r\n\r\n    // firebaseから情報を取得\r\n    getFireData () {\r\n        // firebaseにアクセス \r\n        let db = firebase.database();\r\n        let ref = db.ref('t_section_date/' + this.state.year + '/' + this.state.month + '/'  );\r\n        let self = this;\r\n        // 抽出\r\n        ref.on('value', (snapshot) => {\r\n            if (snapshot.val() !== null){\r\n\r\n                self.setState({ data: snapshot.val() });\r\n            \r\n            }\r\n        });        \r\n    }\r\n\r\n    // 入力情報を登録\r\n    targetSave () {\r\n\r\n        let year = this.state.year;\r\n        let month = this.state.month;\r\n\r\n        // firebaseにアクセス \r\n        let db = firebase.database();\r\n        let ref = db.ref( 't_section_date/'  + year + '/' + month );\r\n\r\n        let byId = function( id ) { return document.getElementById( id ).value };\r\n\r\n        ref.set({\r\n             \r\n            DA1_date   : byId(\"dateDA1\"),    // DA1\r\n            DA2_date   : byId(\"dateDA2\"),    // DA2\r\n            DB1_date   : byId(\"dateDB1\"),    // DB1\r\n            DB2_date   : byId(\"dateDB2\"),    // DB2\r\n            DB3_date   : byId(\"dateDB3\"),    // DB3\r\n\r\n        });\r\n    }\r\n \r\n    render () {\r\n        // 年に表示する情報を取得\r\n        let today = new Date();\r\n        let yearAgo = today.getFullYear()-1;\r\n        let yearThis = today.getFullYear();\r\n        let yearLater = today.getFullYear()+1;\r\n        // 開始日の情報を表示\r\n        let {   DA1_date\r\n              , DA2_date\r\n              , DB1_date\r\n              , DB2_date\r\n              , DB3_date\r\n            } = this.state.data !== undefined ? this.state.data : \"\";\r\n\r\n        return (<div class=\"children-box\">\r\n            <Container>\r\n                <Row className=\"monthly-input\">\r\n                    <Col md=\"auto\">対象年月</Col>\r\n                    <Col md=\"auto\">\r\n                        <Form.Control as=\"select\" defaultValue={ yearThis } onChange={ this.onChangeYear }>\r\n                            <option>{ yearAgo }</option>\r\n                            <option>{ yearThis }</option>\r\n                            <option>{ yearLater }</option>\r\n                        </Form.Control>\r\n                    </Col>\r\n                    <Col md=\"auto\">年</Col>\r\n                    <Col md=\"auto\">\r\n                        <Form.Control as=\"select\" defaultValue={ this.state.month } onChange={ this.onChangeMonth }>\r\n                            <option value=\"1\">1</option>\r\n                            <option value=\"2\">2</option>\r\n                            <option value=\"3\">3</option>\r\n                            <option value=\"4\">4</option>\r\n                            <option value=\"5\">5</option>\r\n                            <option value=\"6\">6</option>\r\n                            <option value=\"7\">7</option>\r\n                            <option value=\"8\">8</option>\r\n                            <option value=\"9\">9</option>\r\n                            <option value=\"10\">10</option>\r\n                            <option value=\"11\">11</option>\r\n                            <option value=\"12\">12</option>\r\n                        </Form.Control>\r\n                    </Col>\r\n                    <Col md=\"auto\">月</Col>\r\n                </Row>\r\n                <hr/>\r\n                <Form>\r\n                    <Form.Row className=\"monthly-input\">\r\n                        <Col sm={1}>\r\n                            <a href=\"/sectionade\" onClick={ this.onClickDivision } >DA1</a>\r\n                        </Col>\r\n                        <Col sm={1}>開始日</Col>    \r\n                        <Col sm={2}>\r\n                            <Form.Control size=\"sm\" id=\"dateDA1\" type=\"date\" defaultValue={DA1_date} />\r\n                        </Col>    \r\n                    </Form.Row>\r\n                    <br/>\r\n                    <Form.Row className=\"monthly-input\">\r\n                        <Col sm={1}>\r\n                        <a href=\"/sectionade\" onClick={ this.onClickDivision } >DA2</a>\r\n                        </Col>\r\n                        <Col sm={1}>開始日</Col>    \r\n                        <Col sm={2}>\r\n                            <Form.Control size=\"sm\" id=\"dateDA2\" type=\"date\" defaultValue={DA2_date}　/>\r\n                        </Col>    \r\n                    </Form.Row>\r\n                    <br/>\r\n                    <Form.Row className=\"monthly-input\">\r\n                        <Col sm={1}>\r\n                        <a href=\"/sectionade\" onClick={ this.onClickDivision } >DB1</a>\r\n                        </Col>\r\n                        <Col sm={1}>開始日</Col>    \r\n                        <Col sm={2}>\r\n                            <Form.Control size=\"sm\" id=\"dateDB1\" type=\"date\" defaultValue={DB1_date}　/>\r\n                        </Col>    \r\n                    </Form.Row>\r\n                    <br/>\r\n                    <Form.Row className=\"monthly-input\">\r\n                        <Col sm={1}>\r\n                        <a href=\"/sectionade\" onClick={ this.onClickDivision } >DB2</a>\r\n                        </Col>\r\n                        <Col sm={1}>開始日</Col>    \r\n                        <Col sm={2}>\r\n                            <Form.Control size=\"sm\" id=\"dateDB2\" type=\"date\" defaultValue={DB2_date}　/>\r\n                        </Col>    \r\n                    </Form.Row>\r\n                    <br/>\r\n                    <Form.Row className=\"monthly-input\">\r\n                        <Col sm={1}>\r\n                        <a href=\"/sectionade\" onClick={ this.onClickDivision } >DB3</a>\r\n                        </Col>\r\n                        <Col sm={1}>開始日</Col>    \r\n                        <Col sm={2}>\r\n                            <Form.Control size=\"sm\" id=\"dateDB3\" type=\"date\" defaultValue={DB3_date} />\r\n                        </Col>    \r\n                    </Form.Row>\r\n                </Form>\r\n                <br/>\r\n                <br/>\r\n            </Container>\r\n            <a href=\"javascript:void(0)\" class=\"btn btn--orange btn--circle btn--circle-a btn--shadow\" onClick={this.targetSave}>保存</a>\r\n            <Modal centered show={this.state.show} onHide={this.handleClose}>\r\n               \t<Modal.Body>\r\n               \t    {this.state.modalMsg}\r\n               \t</Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={this.handleClose}>\r\n                        Close\r\n                    </Button>\r\n                </Modal.Footer>\r\n           \t</Modal>\r\n        </div>);\r\n    }\r\n}\r\n\r\nSection = connect((state)=>state)(Section);\r\nexport default Section;"]},"metadata":{},"sourceType":"module"}