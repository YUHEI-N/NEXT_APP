{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\NagatsuYuhei\\\\next_app\\\\components\\\\Monthly.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Form, Button, Table } from 'react-bootstrap';\nimport Lib from '../static/timemath_lib';\nimport { connect } from 'react-redux';\nimport firebase from \"firebase\";\nimport \"firebase/database\";\n\nclass Monthly extends Component {\n  constructor(props) {\n    super(props);\n    let today = new Date();\n    let year = today.getFullYear();\n    let day = today.getMonth() + 1;\n    this.state = {\n      year: year,\n      month: day,\n      attendanceTime: \"00:00\",\n      leavingTime: \"00:00\",\n      breakTime: \"00:00\"\n    };\n    this.onChangeYear = this.onChangeYear.bind(this);\n    this.onChangeMonth = this.onChangeMonth.bind(this);\n    this.onChangeAttendance = this.onChangeAttendance.bind(this);\n    this.onChangeLeaving = this.onChangeLeaving.bind(this);\n    this.onChangeBreak = this.onChangeBreak.bind(this);\n    this.onClickCommit = this.onClickCommit.bind(this);\n  }\n\n  onChangeYear(e) {\n    this.setState({\n      year: e.target.value\n    });\n  }\n\n  onChangeMonth(e) {\n    this.setState({\n      month: e.target.value\n    });\n  }\n\n  onChangeAttendance(e) {\n    let attendance_sum, stateAttendance;\n\n    if (e.target.getAttribute(\"placeholder\") == \"\") {\n      attendance_sum = Lib.sum(e.target.value, this.state.attendanceTime);\n      e.target.setAttribute(\"placeholder\", e.target.value);\n    } else if (e.target.getAttribute(\"placeholder\") !== e.target.value) {\n      stateAttendance = Lib.sub(this.state.attendanceTime, e.target.getAttribute(\"placeholder\"));\n      attendance_sum = Lib.sum(e.target.value, stateAttendance);\n      e.target.setAttribute(\"placeholder\", e.target.value);\n    }\n\n    this.setState({\n      attendanceTime: attendance_sum\n    });\n  }\n\n  onChangeLeaving(e) {\n    let leaving_sum, stateLeaving;\n\n    if (e.target.getAttribute(\"placeholder\") == \"\") {\n      leaving_sum = Lib.sum(e.target.value, this.state.leavingTime);\n      e.target.setAttribute(\"placeholder\", e.target.value);\n    } else if (e.target.getAttribute(\"placeholder\") !== e.target.value) {\n      stateLeaving = Lib.sub(this.state.leavingTime, e.target.getAttribute(\"placeholder\"));\n      leaving_sum = Lib.sum(e.target.value, stateLeaving);\n      e.target.setAttribute(\"placeholder\", e.target.value);\n    }\n\n    this.setState({\n      leavingTime: leaving_sum\n    });\n  }\n\n  onChangeBreak(e) {\n    let break_sum, stateBreak;\n\n    if (e.target.getAttribute(\"placeholder\") == \"\") {\n      break_sum = Lib.sum(e.target.value, this.state.breakTime);\n      e.target.setAttribute(\"placeholder\", e.target.value);\n    } else if (e.target.getAttribute(\"placeholder\") !== e.target.value) {\n      stateBreak = Lib.sub(this.state.breakTime, e.target.getAttribute(\"placeholder\"));\n      break_sum = Lib.sum(e.target.value, stateBreak);\n      e.target.setAttribute(\"placeholder\", e.target.value);\n    }\n\n    this.setState({\n      breakTime: break_sum\n    });\n  }\n\n  onClickCommit() {\n    // idでhtmlからtableの要素を取得し、trタグのNodeListを取得\n    let table = document.getElementById('monthly-table');\n    let tbl_tr = table.querySelectorAll('tr');\n    let year = this.state.year;\n    let month = this.state.month;\n    let userid = this.props.userid; // テーブルの1行(trタグ)毎に処理\n\n    tbl_tr.forEach(function (tr) {\n      // tdタグのNodeListを取得\n      let cells = tr.querySelectorAll('td'); // firebaseの更新先設定 \n\n      let number = cells[0].textContent;\n      let day = (\"00\" + number).slice(-2) + '(' + cells[1].textContent + ')'; // firebaseにアクセス \n\n      let db = firebase.database();\n      let ref = db.ref('t_monthly/' + userid + '/' + year + '/' + month + '/' + day);\n      ref.set({\n        attendance_time: cells[2].firstElementChild.value,\n        // 出社時間\n        leave_time: cells[3].firstElementChild.value,\n        // 退社時間\n        break_time: cells[4].firstElementChild.value,\n        // 休憩\n        midnight_time: cells[5].firstElementChild.value,\n        // 深夜休\n        attendance_details: cells[6].firstElementChild.value,\n        // 勤怠\n        remarks: cells[7].firstElementChild.value // 備考\n\n      });\n    });\n  }\n\n  render() {\n    let today = new Date();\n    let yearAgo = today.getFullYear() - 1;\n    let yearThis = today.getFullYear();\n    let yearLater = today.getFullYear() + 1;\n    let result = [];\n    let date = new Date(this.state.year, this.state.month, 0);\n    let lastDay = date.getDate();\n\n    for (let i = 1; i <= lastDay; i++) {\n      let dayOfWeekJP = new Date(this.state.year, this.state.month - 1, i);\n      let dayOfWeekStrJP = [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"];\n      let dayOfWeek = dayOfWeekStrJP[dayOfWeekJP.getDay()];\n      let holidayColor = \"\";\n\n      if (dayOfWeek == \"日\" || dayOfWeek == \"土\") {\n        holidayColor = \"\" + \"holiday-color\" + \"\";\n      }\n\n      result.push( /*#__PURE__*/_jsxDEV(\"tr\", {\n        className: holidayColor,\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-day\",\n            children: [i]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"table-day\",\n            children: dayOfWeek\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"table-from\",\n            type: \"time\",\n            onChange: this.onChangeAttendance,\n            placeholder: \"\",\n            defaultValue: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"table-from\",\n            type: \"time\",\n            onChange: this.onChangeLeaving,\n            placeholder: \"\",\n            defaultValue: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"table-from\",\n            type: \"time\",\n            onChange: this.onChangeBreak,\n            placeholder: \"\",\n            defaultValue: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"table-from\",\n            type: \"time\",\n            defaultValue: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"table-from\",\n            as: \"select\",\n            defaultValue: \"\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u4F11\\u6687(\\u79C1\\u7528)\",\n              children: \"\\u4F11\\u6687(\\u79C1\\u7528)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u4F11\\u6687(\\u4F53\\u8ABF\\u4E0D\\u826F)\",\n              children: \"\\u4F11\\u6687(\\u4F53\\u8ABF\\u4E0D\\u826F)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u9045\\u523B(\\u79C1\\u7528)\",\n              children: \"\\u9045\\u523B(\\u79C1\\u7528)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u9045\\u523B(\\u96FB\\u8ECA\\u9045\\u5EF6)\",\n              children: \"\\u9045\\u523B(\\u96FB\\u8ECA\\u9045\\u5EF6)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u9045\\u523B(\\u4F53\\u8ABF\\u4E0D\\u826F)\",\n              children: \"\\u9045\\u523B(\\u4F53\\u8ABF\\u4E0D\\u826F)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u65E9\\u9000(\\u79C1\\u7528)\",\n              children: \"\\u65E9\\u9000(\\u79C1\\u7528)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u65E9\\u9000(\\u4F53\\u8ABF\\u4E0D\\u826F)\",\n              children: \"\\u65E9\\u9000(\\u4F53\\u8ABF\\u4E0D\\u826F)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u534A\\u65E5\\u4F11\\u6687(\\u79C1\\u7528)\",\n              children: \"\\u534A\\u65E5\\u4F11\\u6687(\\u79C1\\u7528)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u534A\\u65E5\\u4F11\\u6687(\\u4F53\\u8ABF\\u4E0D\\u826F)\",\n              children: \"\\u534A\\u65E5\\u4F11\\u6687(\\u4F53\\u8ABF\\u4E0D\\u826F)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u590F\\u5B63\\u30FB\\u51AC\\u5B63\\u4F11\\u6687\",\n              children: \"\\u590F\\u5B63\\u30FB\\u51AC\\u5B63\\u4F11\\u6687\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u73FE\\u5834\\u5E74\\u4F11\",\n              children: \"\\u73FE\\u5834\\u5E74\\u4F11\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u5065\\u5EB7\\u8A3A\\u65AD\",\n              children: \"\\u5065\\u5EB7\\u8A3A\\u65AD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u51FA\\u5F35(\\u904B\\u8EE2\\u3042\\u308A)\",\n              children: \"\\u51FA\\u5F35(\\u904B\\u8EE2\\u3042\\u308A)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u51FA\\u5F35(\\u904B\\u8EE2\\u306A\\u3057)\",\n              children: \"\\u51FA\\u5F35(\\u904B\\u8EE2\\u306A\\u3057)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\\u305D\\u306E\\u4ED6(\\u7406\\u7531\\u660E\\u8A18)\",\n              children: \"\\u305D\\u306E\\u4ED6(\\u7406\\u7531\\u660E\\u8A18)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"table-text\",\n            type: \"text\",\n            defaultValue: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 17\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }, this));\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"children-box\",\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"monthly-input\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: \"\\u5BFE\\u8C61\\u5E74\\u6708\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              defaultValue: yearThis,\n              onChange: this.onChangeYear,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                children: yearAgo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: yearThis\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                children: yearLater\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: \"\\u5E74\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"select\",\n              defaultValue: this.state.month,\n              onChange: this.onChangeMonth,\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"1\",\n                children: \"1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"2\",\n                children: \"2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"3\",\n                children: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"4\",\n                children: \"4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"5\",\n                children: \"5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"6\",\n                children: \"6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"7\",\n                children: \"7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"8\",\n                children: \"8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"9\",\n                children: \"9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"10\",\n                children: \"10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"11\",\n                children: \"11\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"12\",\n                children: \"12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: \"\\u6708\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: {\n              span: \"auto\",\n              offset: 2\n            },\n            children: \"\\u6708\\u9593\\u7A3C\\u50CD\\u6642\\u9593\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: Lib.sub(this.state.leavingTime, this.state.attendanceTime, this.state.breakTime)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            md: \"auto\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              children: \"\\u521D\\u671F\\u5024\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 25\n            }, this), ' ']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        className: \"table-all\",\n        bordered: true,\n        size: \"sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          className: \"table-header\",\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u65E5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u66DC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u51FA\\u793E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u9000\\u793E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u4F11\\u61A9(\\u6DF1\\u591C\\u542B)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u5185 \\u6DF1\\u591C\\u4F11\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u52E4\\u6020\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u5099\\u8003\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          id: \"monthly-table\",\n          children: result\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        class: \"btn btn--orange btn--circle btn--circle-a btn--shadow\",\n        onClick: this.onClickCommit,\n        children: \"\\u4FDD\\u5B58\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nMonthly = connect(state => state)(Monthly);\nexport default Monthly;","map":{"version":3,"sources":["C:/Users/NagatsuYuhei/next_app/components/Monthly.js"],"names":["React","Component","Container","Row","Col","Form","Button","Table","Lib","connect","firebase","Monthly","constructor","props","today","Date","year","getFullYear","day","getMonth","state","month","attendanceTime","leavingTime","breakTime","onChangeYear","bind","onChangeMonth","onChangeAttendance","onChangeLeaving","onChangeBreak","onClickCommit","e","setState","target","value","attendance_sum","stateAttendance","getAttribute","sum","setAttribute","sub","leaving_sum","stateLeaving","break_sum","stateBreak","table","document","getElementById","tbl_tr","querySelectorAll","userid","forEach","tr","cells","number","textContent","slice","db","database","ref","set","attendance_time","firstElementChild","leave_time","break_time","midnight_time","attendance_details","remarks","render","yearAgo","yearThis","yearLater","result","date","lastDay","getDate","i","dayOfWeekJP","dayOfWeekStrJP","dayOfWeek","getDay","holidayColor","push","span","offset"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Container, Row, Col, Form, Button, Table } from 'react-bootstrap';\r\nimport Lib from '../static/timemath_lib';\r\nimport { connect } from 'react-redux';\r\nimport firebase from \"firebase\";\r\nimport \"firebase/database\";\r\n\r\nclass Monthly extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        let today = new Date();\r\n        let year = today.getFullYear();\r\n        let day = today.getMonth() + 1;\r\n\r\n        this.state = {\r\n            year: year,\r\n            month: day,\r\n            attendanceTime: \"00:00\",\r\n            leavingTime: \"00:00\",\r\n            breakTime: \"00:00\",\r\n        };\r\n\r\n        this.onChangeYear = this.onChangeYear.bind(this);\r\n        this.onChangeMonth = this.onChangeMonth.bind(this);\r\n        this.onChangeAttendance = this.onChangeAttendance.bind(this);\r\n        this.onChangeLeaving = this.onChangeLeaving.bind(this);\r\n        this.onChangeBreak = this.onChangeBreak.bind(this);\r\n        this.onClickCommit = this.onClickCommit.bind(this);\r\n\r\n    }\r\n\r\n    onChangeYear(e) {\r\n        this.setState({\r\n            year: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeMonth(e) {\r\n        this.setState({\r\n            month: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeAttendance(e) {\r\n\r\n        let attendance_sum, stateAttendance;\r\n\r\n        if (e.target.getAttribute(\"placeholder\") == \"\") {\r\n\r\n            attendance_sum = Lib.sum(e.target.value, this.state.attendanceTime);\r\n            e.target.setAttribute(\"placeholder\", e.target.value);\r\n\r\n        } else if (e.target.getAttribute(\"placeholder\") !== e.target.value) {\r\n\r\n            stateAttendance = Lib.sub(this.state.attendanceTime, e.target.getAttribute(\"placeholder\"));\r\n            attendance_sum = Lib.sum(e.target.value, stateAttendance);\r\n            e.target.setAttribute(\"placeholder\", e.target.value);\r\n\r\n        }\r\n\r\n        this.setState({\r\n            attendanceTime: attendance_sum\r\n        });\r\n    }\r\n\r\n    onChangeLeaving(e) {\r\n\r\n        let leaving_sum, stateLeaving;\r\n\r\n        if (e.target.getAttribute(\"placeholder\") == \"\") {\r\n\r\n            leaving_sum = Lib.sum(e.target.value, this.state.leavingTime);\r\n            e.target.setAttribute(\"placeholder\", e.target.value);\r\n\r\n        } else if (e.target.getAttribute(\"placeholder\") !== e.target.value) {\r\n\r\n            stateLeaving = Lib.sub(this.state.leavingTime, e.target.getAttribute(\"placeholder\"));\r\n            leaving_sum = Lib.sum(e.target.value, stateLeaving);\r\n            e.target.setAttribute(\"placeholder\", e.target.value);\r\n\r\n        }\r\n\r\n        this.setState({\r\n            leavingTime: leaving_sum,\r\n        });\r\n    }\r\n\r\n    onChangeBreak(e) {\r\n\r\n        let break_sum, stateBreak;\r\n\r\n        if (e.target.getAttribute(\"placeholder\") == \"\") {\r\n\r\n            break_sum = Lib.sum(e.target.value, this.state.breakTime);\r\n            e.target.setAttribute(\"placeholder\", e.target.value);\r\n\r\n        } else if (e.target.getAttribute(\"placeholder\") !== e.target.value) {\r\n\r\n            stateBreak = Lib.sub(this.state.breakTime, e.target.getAttribute(\"placeholder\"));\r\n            break_sum = Lib.sum(e.target.value, stateBreak);\r\n            e.target.setAttribute(\"placeholder\", e.target.value);\r\n\r\n        }\r\n\r\n        this.setState({\r\n            breakTime: break_sum\r\n        });\r\n    }\r\n\r\n    onClickCommit() {\r\n        // idでhtmlからtableの要素を取得し、trタグのNodeListを取得\r\n        let table = document.getElementById('monthly-table');\r\n        let tbl_tr = table.querySelectorAll('tr');\r\n\r\n        let year = this.state.year;\r\n        let month = this.state.month;\r\n        let userid = this.props.userid;\r\n\r\n        // テーブルの1行(trタグ)毎に処理\r\n        tbl_tr.forEach(function (tr) {\r\n            // tdタグのNodeListを取得\r\n            let cells = tr.querySelectorAll('td');\r\n            // firebaseの更新先設定 \r\n            let number = cells[0].textContent;\r\n            let day = (\"00\" + number).slice(-2) + '(' + cells[1].textContent + ')';\r\n            // firebaseにアクセス \r\n            let db = firebase.database();\r\n            let ref = db.ref('t_monthly/' + userid + '/' + year + '/' + month + '/' + day);\r\n\r\n            ref.set({\r\n                attendance_time: cells[2].firstElementChild.value,　// 出社時間\r\n                leave_time: cells[3].firstElementChild.value,　// 退社時間\r\n                break_time: cells[4].firstElementChild.value,  // 休憩\r\n                midnight_time: cells[5].firstElementChild.value,  // 深夜休\r\n                attendance_details: cells[6].firstElementChild.value,  // 勤怠\r\n                remarks: cells[7].firstElementChild.value,  // 備考\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        let today = new Date();\r\n        let yearAgo = today.getFullYear() - 1;\r\n        let yearThis = today.getFullYear();\r\n        let yearLater = today.getFullYear() + 1;\r\n\r\n        let result = [];\r\n        let date = new Date(this.state.year, this.state.month, 0);\r\n        let lastDay = date.getDate();\r\n\r\n        for (let i = 1; i <= lastDay; i++) {\r\n\r\n            let dayOfWeekJP = new Date(this.state.year, this.state.month - 1, i);\r\n            let dayOfWeekStrJP = [\"日\", \"月\", \"火\", \"水\", \"木\", \"金\", \"土\"];\r\n            let dayOfWeek = dayOfWeekStrJP[dayOfWeekJP.getDay()];\r\n\r\n            let holidayColor = \"\"\r\n            if (dayOfWeek == \"日\" || dayOfWeek == \"土\") {\r\n                holidayColor = \"\" + \"holiday-color\" + \"\"\r\n            }\r\n\r\n            result.push(<tr className={holidayColor} key={i}>\r\n                <td>\r\n                    <div className=\"table-day\">{[i]}</div>\r\n                </td>\r\n                <td>\r\n                    <div className=\"table-day\">{dayOfWeek}</div>\r\n                </td>\r\n                <td>\r\n                    <Form.Control className=\"table-from\" type=\"time\" onChange={this.onChangeAttendance} placeholder=\"\"  defaultValue=\"\" />\r\n                </td>\r\n                <td>\r\n                    <Form.Control className=\"table-from\" type=\"time\" onChange={this.onChangeLeaving} placeholder=\"\" defaultValue=\"\" />\r\n                </td>\r\n                <td>\r\n                    <Form.Control className=\"table-from\" type=\"time\" onChange={this.onChangeBreak} placeholder=\"\" defaultValue=\"\" />\r\n                </td>\r\n                <td>\r\n                    <Form.Control className=\"table-from\" type=\"time\" defaultValue=\"\" />\r\n                </td>\r\n                <td>\r\n                    <Form.Control className=\"table-from\" as=\"select\" defaultValue=\"\">\r\n                        <option ></option>\r\n                        <option value=\"休暇(私用)\" >休暇(私用)</option>\r\n                        <option value=\"休暇(体調不良)\" >休暇(体調不良)</option>\r\n                        <option value=\"遅刻(私用)\" >遅刻(私用)</option>\r\n                        <option value=\"遅刻(電車遅延)\" >遅刻(電車遅延)</option>\r\n                        <option value=\"遅刻(体調不良)\" >遅刻(体調不良)</option>\r\n                        <option value=\"早退(私用)\" >早退(私用)</option>\r\n                        <option value=\"早退(体調不良)\" >早退(体調不良)</option>\r\n                        <option value=\"半日休暇(私用)\" >半日休暇(私用)</option>\r\n                        <option value=\"半日休暇(体調不良)\" >半日休暇(体調不良)</option>\r\n                        <option value=\"夏季・冬季休暇\" >夏季・冬季休暇</option>\r\n                        <option value=\"現場年休\" >現場年休</option>\r\n                        <option value=\"健康診断\" >健康診断</option>\r\n                        <option value=\"出張(運転あり)\" >出張(運転あり)</option>\r\n                        <option value=\"出張(運転なし)\" >出張(運転なし)</option>\r\n                        <option value=\"その他(理由明記)\" >その他(理由明記)</option>\r\n                    </Form.Control>\r\n                </td>\r\n                <td>\r\n                    <Form.Control className=\"table-text\" type=\"text\" defaultValue=\"\"/>\r\n                </td>\r\n            </tr>);\r\n        }\r\n\r\n\r\n\r\n        return (<div class=\"children-box\">\r\n            <Container>\r\n                <Row className=\"monthly-input\">\r\n                    <Col md=\"auto\">対象年月</Col>\r\n                    <Col md=\"auto\">\r\n                        <Form.Control as=\"select\" defaultValue={yearThis} onChange={this.onChangeYear}>\r\n                            <option>{yearAgo}</option>\r\n                            <option>{yearThis}</option>\r\n                            <option>{yearLater}</option>\r\n                        </Form.Control>\r\n                    </Col>\r\n                    <Col md=\"auto\">年</Col>\r\n                    <Col md=\"auto\">\r\n                        <Form.Control as=\"select\" defaultValue={this.state.month} onChange={this.onChangeMonth}>\r\n                            <option value=\"1\">1</option>\r\n                            <option value=\"2\">2</option>\r\n                            <option value=\"3\">3</option>\r\n                            <option value=\"4\">4</option>\r\n                            <option value=\"5\">5</option>\r\n                            <option value=\"6\">6</option>\r\n                            <option value=\"7\">7</option>\r\n                            <option value=\"8\">8</option>\r\n                            <option value=\"9\">9</option>\r\n                            <option value=\"10\">10</option>\r\n                            <option value=\"11\">11</option>\r\n                            <option value=\"12\">12</option>\r\n                        </Form.Control>\r\n                    </Col>\r\n                    <Col md=\"auto\">月</Col>\r\n                    <Col md={{ span: \"auto\", offset: 2 }}>月間稼働時間</Col>\r\n                    <Col md=\"auto\">{Lib.sub(this.state.leavingTime, this.state.attendanceTime, this.state.breakTime)}</Col>\r\n                    <Col md=\"auto\">\r\n                        <Button variant=\"secondary\">初期値</Button>{' '}\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n            <br />\r\n            <Table className=\"table-all\" bordered size=\"sm\"  >\r\n                <thead className=\"table-header\">\r\n                    <tr>\r\n                        <th>日</th>\r\n                        <th>曜</th>\r\n                        <th>出社</th>\r\n                        <th>退社</th>\r\n                        <th>休憩(深夜含)</th>\r\n                        <th>内 深夜休</th>\r\n                        <th>勤怠</th>\r\n                        <th>備考</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody id=\"monthly-table\">{result}</tbody>\r\n            </Table>\r\n            <a class=\"btn btn--orange btn--circle btn--circle-a btn--shadow\" onClick={this.onClickCommit} >保存</a>\r\n        </div>);\r\n    }\r\n}\r\n\r\nMonthly = connect((state) => state)(Monthly);\r\nexport default Monthly;"]},"metadata":{},"sourceType":"module"}