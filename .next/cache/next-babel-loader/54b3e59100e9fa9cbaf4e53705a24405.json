{"ast":null,"code":"import _classCallCheck from \"C:/Users/NagatsuYuhei/next_app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/NagatsuYuhei/next_app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/Users/NagatsuYuhei/next_app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:/Users/NagatsuYuhei/next_app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"C:/Users/NagatsuYuhei/next_app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:/Users/NagatsuYuhei/next_app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\NagatsuYuhei\\\\next_app\\\\components\\\\Section.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Container, Row, Col, Form, Modal, Button } from 'react-bootstrap';\nimport firebase from \"firebase\";\nimport \"firebase/database\";\n\nvar Section = /*#__PURE__*/function (_Component) {\n  _inherits(Section, _Component);\n\n  var _super = _createSuper(Section);\n\n  function Section(props) {\n    var _this;\n\n    _classCallCheck(this, Section);\n\n    _this = _super.call(this, props);\n    var today = new Date();\n    var year = today.getFullYear();\n    var day = today.getMonth() + 1;\n    _this.state = {\n      year: year,\n      month: day,\n      show: false,\n      modalMsg: \"\"\n    };\n\n    _this.getFireData();\n\n    _this.onChangeYear = _this.onChangeYear.bind(_assertThisInitialized(_this));\n    _this.onChangeMonth = _this.onChangeMonth.bind(_assertThisInitialized(_this));\n    _this.onClickDivision = _this.onClickDivision.bind(_assertThisInitialized(_this));\n    _this.handleClose = _this.handleClose.bind(_assertThisInitialized(_this));\n    _this.handleShow = _this.handleShow.bind(_assertThisInitialized(_this));\n    _this.targetSave = _this.targetSave.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Section, [{\n    key: \"handleClose\",\n    value: function handleClose() {\n      this.setState({\n        show: false\n      });\n    }\n  }, {\n    key: \"handleShow\",\n    value: function handleShow() {\n      this.setState({\n        show: true\n      });\n    } // 年変更時の処理 \n\n  }, {\n    key: \"onChangeYear\",\n    value: function onChangeYear(e) {\n      // firebaseにアクセス \n      var db = firebase.database();\n      var ref = db.ref('t_section_date/' + e.target.value + '/' + this.state.month + '/');\n      var self = this; // 抽出\n\n      ref.on('value', function (snapshot) {\n        // 対象年月の情報で処理分岐\n        if (snapshot.val() === null) {\n          self.setState({\n            year: e.target.value,\n            data: []\n          });\n        } else {\n          self.setState({\n            year: e.target.value,\n            data: snapshot.val()\n          });\n        }\n      });\n    } // 年変更時の処理 \n\n  }, {\n    key: \"onChangeMonth\",\n    value: function onChangeMonth(e) {\n      // firebaseにアクセス \n      var db = firebase.database();\n      var ref = db.ref('t_section_date/' + this.state.year + '/' + e.target.value + '/');\n      var self = this;\n      ref.on('value', function (snapshot) {\n        if (snapshot.val() === null) {\n          self.setState({\n            month: e.target.value,\n            data: []\n          });\n        } else {\n          self.setState({\n            month: e.target.value,\n            data: snapshot.val()\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onClickDivision\",\n    value: function onClickDivision(e) {\n      var id = \"date\" + e.target.text;\n      var inputCheck = document.getElementById(id).value;\n\n      if (inputCheck === \"\") {\n        this.setState({\n          modalMsg: \"開始日を入力してください。\"\n        });\n        this.handleShow();\n        e.preventDefault();\n      } else {\n        return this.props.dispatch({\n          type: 'DIVISION',\n          division: e.target.text,\n          division_day: inputCheck\n        });\n      }\n    }\n  }, {\n    key: \"getFireData\",\n    value: function getFireData() {\n      // firebaseにアクセス \n      var db = firebase.database();\n      var ref = db.ref('t_section_date/' + this.state.year + '/' + this.state.month + '/');\n      var self = this;\n      ref.on('value', function (snapshot) {\n        if (snapshot.val() != null) {\n          self.setState({\n            data: snapshot.val()\n          });\n        }\n      });\n    }\n  }, {\n    key: \"targetSave\",\n    value: function targetSave() {\n      var year = this.state.year;\n      var month = this.state.month; // firebaseにアクセス \n\n      var db = firebase.database();\n      var ref = db.ref('t_section_date/' + year + '/' + month);\n\n      var byId = function byId(id) {\n        return document.getElementById(id).value;\n      };\n\n      ref.set({\n        DA1_date: byId(\"dateDA1\"),\n        // DA1\n        DA2_date: byId(\"dateDA2\"),\n        // DA2\n        DB1_date: byId(\"dateDB1\"),\n        // DB1\n        DB2_date: byId(\"dateDB2\"),\n        // DB2\n        DB3_date: byId(\"dateDB3\") // DB3\n\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var today = new Date();\n      var yearAgo = today.getFullYear() - 1;\n      var yearThis = today.getFullYear();\n      var yearLater = today.getFullYear() + 1;\n\n      var _ref = this.state.data !== undefined ? this.state.data : \"\",\n          DA1_date = _ref.DA1_date,\n          DA2_date = _ref.DA2_date,\n          DB1_date = _ref.DB1_date,\n          DB2_date = _ref.DB2_date,\n          DB3_date = _ref.DB3_date;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        \"class\": \"children-box\",\n        children: [/*#__PURE__*/_jsxDEV(Container, {\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            className: \"monthly-input\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: \"auto\",\n              children: \"\\u5BFE\\u8C61\\u5E74\\u6708\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"select\",\n                defaultValue: yearThis,\n                onChange: this.onChangeYear,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  children: yearAgo\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: yearThis\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  children: yearLater\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: \"auto\",\n              children: \"\\u5E74\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                as: \"select\",\n                defaultValue: this.state.month,\n                onChange: this.onChangeMonth,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"1\",\n                  children: \"1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"2\",\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"3\",\n                  children: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"4\",\n                  children: \"4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"5\",\n                  children: \"5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"6\",\n                  children: \"6\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"7\",\n                  children: \"7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"8\",\n                  children: \"8\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"9\",\n                  children: \"9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"10\",\n                  children: \"10\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"11\",\n                  children: \"11\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"12\",\n                  children: \"12\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: \"auto\",\n              children: \"\\u6708\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Row, {\n              className: \"monthly-input\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 1,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/sectionade\",\n                  onClick: this.onClickDivision,\n                  children: \"DA1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 1,\n                children: \"\\u958B\\u59CB\\u65E5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 2,\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  size: \"sm\",\n                  id: \"dateDA1\",\n                  type: \"date\",\n                  defaultValue: DA1_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n              className: \"monthly-input\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 1,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/sectionade\",\n                  onClick: this.onClickDivision,\n                  children: \"DA2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 1,\n                children: \"\\u958B\\u59CB\\u65E5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 2,\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  size: \"sm\",\n                  id: \"dateDA2\",\n                  type: \"date\",\n                  defaultValue: DA2_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n              className: \"monthly-input\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 1,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/sectionade\",\n                  onClick: this.onClickDivision,\n                  children: \"DB1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 1,\n                children: \"\\u958B\\u59CB\\u65E5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 2,\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  size: \"sm\",\n                  id: \"dateDB1\",\n                  type: \"date\",\n                  defaultValue: DB1_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n              className: \"monthly-input\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 1,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/sectionade\",\n                  onClick: this.onClickDivision,\n                  children: \"DB2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 1,\n                children: \"\\u958B\\u59CB\\u65E5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 2,\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  size: \"sm\",\n                  id: \"dateDB2\",\n                  type: \"date\",\n                  defaultValue: DB2_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n              className: \"monthly-input\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 1,\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/sectionade\",\n                  onClick: this.onClickDivision,\n                  children: \"DB3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 1,\n                children: \"\\u958B\\u59CB\\u65E5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                sm: 2,\n                children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                  size: \"sm\",\n                  id: \"dateDB3\",\n                  type: \"date\",\n                  defaultValue: DB3_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"javascript:void(0)\",\n          \"class\": \"btn btn--orange btn--circle btn--circle-a btn--shadow\",\n          onClick: this.targetSave,\n          children: \"\\u4FDD\\u5B58\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          centered: true,\n          show: this.state.show,\n          onHide: this.handleClose,\n          children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: this.state.modalMsg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: this.handleClose,\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this);\n    }\n  }]);\n\n  return Section;\n}(Component);\n\nSection = connect(function (state) {\n  return state;\n})(Section);\nexport default Section;","map":{"version":3,"sources":["C:/Users/NagatsuYuhei/next_app/components/Section.js"],"names":["React","Component","connect","Container","Row","Col","Form","Modal","Button","firebase","Section","props","today","Date","year","getFullYear","day","getMonth","state","month","show","modalMsg","getFireData","onChangeYear","bind","onChangeMonth","onClickDivision","handleClose","handleShow","targetSave","setState","e","db","database","ref","target","value","self","on","snapshot","val","data","id","text","inputCheck","document","getElementById","preventDefault","dispatch","type","division","division_day","byId","set","DA1_date","DA2_date","DB1_date","DB2_date","DB3_date","yearAgo","yearThis","yearLater","undefined"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Container, Row, Col, Form, Modal, Button } from 'react-bootstrap';\r\nimport firebase from \"firebase\";\r\nimport \"firebase/database\";\r\n\r\nclass Section extends Component {\r\n\r\n    constructor (props) {\r\n\r\n        super(props);\r\n\r\n        let today = new Date();\r\n        let year = today.getFullYear();\r\n        let day = today.getMonth() + 1;\r\n\r\n        this.state = {\r\n            year: year,\r\n            month: day,\r\n            show: false,\r\n            modalMsg: \"\"\r\n        };\r\n\r\n        this.getFireData();\r\n\r\n        this.onChangeYear = this.onChangeYear.bind(this);\r\n        this.onChangeMonth = this.onChangeMonth.bind(this);\r\n        this.onClickDivision = this.onClickDivision.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleShow = this.handleShow.bind(this);\r\n        this.targetSave = this.targetSave.bind(this);\r\n\r\n    }\r\n\r\n    handleClose() {\r\n        this.setState({\r\n            show:false\r\n        });\r\n    }\r\n\r\n    handleShow() {\r\n        this.setState({\r\n            show:true\r\n        });\r\n    }\r\n\r\n    // 年変更時の処理 \r\n    onChangeYear (e) {\r\n\r\n        // firebaseにアクセス \r\n        let db = firebase.database();\r\n        let ref = db.ref('t_section_date/' + e.target.value + '/' + this.state.month + '/'  );\r\n        let self = this;\r\n\r\n        // 抽出\r\n        ref.on('value', (snapshot) => {\r\n            // 対象年月の情報で処理分岐\r\n            if (snapshot.val() === null){\r\n\r\n                self.setState({ \r\n                    year: e.target.value, \r\n                    data: [] \r\n                });\r\n            \r\n            } else {\r\n\r\n                self.setState({ \r\n                    year: e.target.value,\r\n                    data: snapshot.val() \r\n                });\r\n            \r\n            }\r\n        });\r\n    }\r\n    // 年変更時の処理 \r\n\r\n    onChangeMonth (e) {\r\n\r\n        // firebaseにアクセス \r\n        let db = firebase.database();\r\n        let ref = db.ref('t_section_date/' + this.state.year +  '/' + e.target.value + '/'  );\r\n        let self = this;\r\n    \r\n        ref.on('value', (snapshot) => {\r\n            if (snapshot.val() === null){\r\n\r\n                self.setState({ \r\n                    month: e.target.value,\r\n                    data: [] \r\n                });\r\n            \r\n            } else {\r\n            \r\n                self.setState({ \r\n                    month: e.target.value,\r\n                    data: snapshot.val() \r\n                });\r\n            \r\n            }\r\n        });\r\n    }\r\n\r\n    onClickDivision (e) {\r\n\r\n        let id = \"date\" + e.target.text;\r\n        let inputCheck = document.getElementById( id ).value;\r\n\r\n        if ( inputCheck ===\"\" ){\r\n\r\n            this.setState({　modalMsg: \"開始日を入力してください。\"　});\r\n            this.handleShow();\r\n\r\n            e.preventDefault();\r\n\r\n        } else {\r\n\r\n            return this.props.dispatch({ \r\n                        type: 'DIVISION'\r\n                      , division: e.target.text\r\n                      , division_day:inputCheck\r\n                    });\r\n\r\n        }\r\n    }\r\n\r\n    getFireData () {\r\n        // firebaseにアクセス \r\n        let db = firebase.database();\r\n        let ref = db.ref('t_section_date/' + this.state.year + '/' + this.state.month + '/'  );\r\n        let self = this;\r\n        \r\n        ref.on('value', (snapshot) => {\r\n            if (snapshot.val() != null){\r\n\r\n                self.setState({ data: snapshot.val() });\r\n            \r\n            }\r\n        });        \r\n    }\r\n\r\n    targetSave () {\r\n\r\n        let year = this.state.year;\r\n        let month = this.state.month;\r\n\r\n        // firebaseにアクセス \r\n        let db = firebase.database();\r\n        let ref = db.ref( 't_section_date/'  + year + '/' + month );\r\n\r\n        let byId = function( id ) { return document.getElementById( id ).value };\r\n\r\n        ref.set({\r\n             \r\n            DA1_date   : byId(\"dateDA1\"),    // DA1\r\n            DA2_date   : byId(\"dateDA2\"),    // DA2\r\n            DB1_date   : byId(\"dateDB1\"),    // DB1\r\n            DB2_date   : byId(\"dateDB2\"),    // DB2\r\n            DB3_date   : byId(\"dateDB3\"),    // DB3\r\n\r\n        });\r\n    }\r\n\r\n    render () {\r\n\r\n        let today = new Date();\r\n        let yearAgo = today.getFullYear()-1;\r\n        let yearThis = today.getFullYear();\r\n        let yearLater = today.getFullYear()+1;\r\n\r\n        let {   DA1_date\r\n              , DA2_date\r\n              , DB1_date\r\n              , DB2_date\r\n              , DB3_date\r\n            } = this.state.data !== undefined ? this.state.data : \"\";\r\n\r\n        return (<div class=\"children-box\">\r\n            <Container>\r\n                <Row className=\"monthly-input\">\r\n                    <Col md=\"auto\">対象年月</Col>\r\n                    <Col md=\"auto\">\r\n                        <Form.Control as=\"select\" defaultValue={ yearThis } onChange={ this.onChangeYear }>\r\n                            <option>{ yearAgo }</option>\r\n                            <option>{ yearThis }</option>\r\n                            <option>{ yearLater }</option>\r\n                        </Form.Control>\r\n                    </Col>\r\n                    <Col md=\"auto\">年</Col>\r\n                    <Col md=\"auto\">\r\n                        <Form.Control as=\"select\" defaultValue={ this.state.month } onChange={ this.onChangeMonth }>\r\n                            <option value=\"1\">1</option>\r\n                            <option value=\"2\">2</option>\r\n                            <option value=\"3\">3</option>\r\n                            <option value=\"4\">4</option>\r\n                            <option value=\"5\">5</option>\r\n                            <option value=\"6\">6</option>\r\n                            <option value=\"7\">7</option>\r\n                            <option value=\"8\">8</option>\r\n                            <option value=\"9\">9</option>\r\n                            <option value=\"10\">10</option>\r\n                            <option value=\"11\">11</option>\r\n                            <option value=\"12\">12</option>\r\n                        </Form.Control>\r\n                    </Col>\r\n                    <Col md=\"auto\">月</Col>\r\n                </Row>\r\n                <hr/>\r\n                <Form>\r\n                    <Form.Row className=\"monthly-input\">\r\n                        <Col sm={1}>\r\n                            <a href=\"/sectionade\" onClick={ this.onClickDivision } >DA1</a>\r\n                        </Col>\r\n                        <Col sm={1}>開始日</Col>    \r\n                        <Col sm={2}>\r\n                            <Form.Control size=\"sm\" id=\"dateDA1\" type=\"date\" defaultValue={DA1_date} />\r\n                        </Col>    \r\n                    </Form.Row>\r\n                    <br/>\r\n                    <Form.Row className=\"monthly-input\">\r\n                        <Col sm={1}>\r\n                        <a href=\"/sectionade\" onClick={ this.onClickDivision } >DA2</a>\r\n                        </Col>\r\n                        <Col sm={1}>開始日</Col>    \r\n                        <Col sm={2}>\r\n                            <Form.Control size=\"sm\" id=\"dateDA2\" type=\"date\" defaultValue={DA2_date}　/>\r\n                        </Col>    \r\n                    </Form.Row>\r\n                    <br/>\r\n                    <Form.Row className=\"monthly-input\">\r\n                        <Col sm={1}>\r\n                        <a href=\"/sectionade\" onClick={ this.onClickDivision } >DB1</a>\r\n                        </Col>\r\n                        <Col sm={1}>開始日</Col>    \r\n                        <Col sm={2}>\r\n                            <Form.Control size=\"sm\" id=\"dateDB1\" type=\"date\" defaultValue={DB1_date}　/>\r\n                        </Col>    \r\n                    </Form.Row>\r\n                    <br/>\r\n                    <Form.Row className=\"monthly-input\">\r\n                        <Col sm={1}>\r\n                        <a href=\"/sectionade\" onClick={ this.onClickDivision } >DB2</a>\r\n                        </Col>\r\n                        <Col sm={1}>開始日</Col>    \r\n                        <Col sm={2}>\r\n                            <Form.Control size=\"sm\" id=\"dateDB2\" type=\"date\" defaultValue={DB2_date}　/>\r\n                        </Col>    \r\n                    </Form.Row>\r\n                    <br/>\r\n                    <Form.Row className=\"monthly-input\">\r\n                        <Col sm={1}>\r\n                        <a href=\"/sectionade\" onClick={ this.onClickDivision } >DB3</a>\r\n                        </Col>\r\n                        <Col sm={1}>開始日</Col>    \r\n                        <Col sm={2}>\r\n                            <Form.Control size=\"sm\" id=\"dateDB3\" type=\"date\" defaultValue={DB3_date} />\r\n                        </Col>    \r\n                    </Form.Row>\r\n                </Form>\r\n                <br/>\r\n                <br/>\r\n            </Container>\r\n            <a href=\"javascript:void(0)\" class=\"btn btn--orange btn--circle btn--circle-a btn--shadow\" onClick={this.targetSave}>保存</a>\r\n            <Modal centered show={this.state.show} onHide={this.handleClose}>\r\n               \t<Modal.Body>\r\n               \t    {this.state.modalMsg}\r\n               \t</Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={this.handleClose}>\r\n                        Close\r\n                    </Button>\r\n                </Modal.Footer>\r\n           \t</Modal>\r\n        </div>);\r\n    }\r\n}\r\n\r\nSection = connect((state)=>state)(Section);\r\nexport default Section;"]},"metadata":{},"sourceType":"module"}